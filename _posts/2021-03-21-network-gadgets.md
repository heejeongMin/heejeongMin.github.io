---
layout: post
title: 네트워크를 만드는 것
subtitle: 그림으로 배우는 네트워크 원리
categories: network
tags: [NETWORK, INFRASTRUCTURE]
---

## 네트워크를 구성하는 기기

---

- 라우터
- 레이어 2 스위치
- 레이어 3 스위치
    - 위 3가지 기기의 공통점 : 데이터를 전송한다.
    - 위 3가지 기기의 차이점 : 데이터에 부가된 제어정보를 감지하여 전송할 곳을 결정한다.
- 데이터 전송 처리 절차 :
    1. 데이터 수신 : 물리적인 신호를 다시 디지털신호로 (0, 1) 변경한다. 
    2. 데이터 보낼 곳 결정 : 데이터에 부가된 제어정보를 감지하여 전송할 곳을 결정한다. 
    3.  데이터 전송 : 디지털 신호를 다시 물리적 신호로 변경한다. 

![Network_gadgets](/assets/images/network/Network_gadgets.png)

### 스위치와 라우터의 차이

**스위치**

- 작동 계층 : OSI 모델의 데이터 링크 계층(계층 2) / TCP/IP의 네트워크계층인 (계층 1)
- 작동 :  물리적 포트에 연결된 기기에서 전송된 패킷을 받아 다시 내보내는데 **단, 패킷이 도달해야 하는 기기로 이어지는 포트를 통해서만 보낸다**. 스위치는 이더넷, 파이버 채널, 비동기 전송 모드(ATM) 및 인피니밴드(InfiniBand) 등을 기반으로 하는데, 현재는 **대부분의 스위치가 이더넷을 사용한다.** 기기가 스위치에 연결되면 스위치는 해당 이더넷 케이블에 연결된 기기의 네트워크 인터페이스 카드(NIC)에 내장된 미디어 **액세스 제어(MAC) 주소를 확인한다.** 스위치는 **이 MAC 주소를 사용해 패킷이 발송된 기기와 수신된 패킷을 전달할 위치를 식별**한다. 따라서 MAC 주소는 기기에 동적으로 할당되고 변경이 가능한 OSI 모델의 네트워크 계층(계층 3)/TCP/IP의 인터넷계층 (계층2) IP 주소와 달리 **물리적 기기를 식별하는 데 쓰인다.**
- 한편 대부분의 스위치가 계층 2에서 작동하지만 일부 스위치는 계층 3에서도 작동할 수 있다. 이러한 스위치를 계층 3 스위치라고 하며 가상 LAN(VLAN) 구성과 같은 부가 기능을 제공한다.

**라우터**

- 작동 계층 : OSI 모델의 네트워크계층 (계층 3) / TCP/IP의 인터넷 계층 (계층 2)
- 작동 : 네트워크 트래픽 포워딩과 라우팅 기능을 제공하며 라우터라는 이름도 여기에 유래한다. 라우팅을 수행하기 위해서는 미리 라우팅 테이블에 네트워크 정보를 등록해두어야 하는데 라우팅 테이블에 등록되어 있지 않은 네트워크가 목적지인 데이터는 라우터에 의해 파기된다.

**스위치와 라우터 차이** 

스위치와 라우터 간의 차이를 쉽게 이해하려면 LAN과 WAN을 생각하면 된다. 기기는 스위치를 통해 로컬로 연결되고 네트워크는 라우터를 통해 다른 네트워크에 연결된다. 패킷이 인터넷에 이르기까지 일반적으로 거치는 경로 : 기기 > 허브 > 스위치 > 라우터 > 인터넷

![Network_routing](/assets/images/network/Network_routing.png)

### **네트워크의 구체적인 구성**

---

- **인터페이스**
네트워크 <> 네트워크, 기기 <> 기기, pc <> 서버 연결을 위한 인터페이스가 존재하는데 가장 일반적으로 사용하는 것은 이더넷 인터페이스이다. 
인터페이스는 **포트**라고도 부르며 (더 친숙한) 이더넷 인터페이스의 경우 이더넷 포트 LAN 포트라고도 부른다.

    인터페이스는 '0'과 '1'로 이루어진 디지털 데이터와 전기신호와 같은 물리적 신호의 경계이다. PC와 스마트폰등 네트워크 기기가 다루는 디지털 데이터는 전기신호 등 물리적 신호로 변호나되어 인터페이스에서 송출되고 링크로 전달된다. 

- **전송 매체와 링크**
인터페이스(포트)를 서로 연결하는 케이블을 전송매체라고 한다. 유선 케이블일 수도 있고 요즘 Wi-Fi 와 같은 무선도 존재한다. 데이터를 변환한 전기신호 등 물리적인 신호가 전송매체를 통해서 전달되게 되며, 전송 매체를 통해 링크를 구성하여 네트워크가 형성되게 된다.

![Network_interface](/assets/images/network/Network_interface.png)

그림 2-5 : 레이어 2 스위치에 연결된 PC 의 인터페이서에서 같은 레이어2 스위치에 연결된 다른 PC의 인터페이스까지 데이터를전송할 수 있다. 이때 '0','1'의 디지털 데이터를 전기신호 등의 물리적인 신호로 변환해 전송 매체로 전달해 전송한다. 

## 네트워크를 만든다

---

**구축 주요 기술**
사내 네트워크나 개인 사용자 네트워크를 구성하는 LAN은 사용자가 직접 구성하는 네트워크이고 구축하는 주요 기술은 다음 두가지 이다. 

- 이더넷
- 무선 LAN(Wi-Fi)

**구축 방법**

1. 유선 네트워크 구축 준비물

    a. 이더넷 인터페이스가 있는 라우터

    b. 이더넷 인터페이스가 있는 스위치 (레이어2, 3)

    c. LAN 케이블

    a, b를 c로 연결하면 유선 LAN을 사용하는 네트워크를 구축할 수 있다.

2. 무선 네트워크 구축 준비물

    a. 무선 LAN 엑세스 포트

    b. 무선 LAN 인터페이스가 있는 PC 혹은 스마트폰

    설정을 통해 무선 네트워크를 구축할 수 있음.

기본적으로는 위처럼 구성하는데, 가정이외에 기업에서 구성한다고 하면 요건정의 - 설계 - 구축 - 운용관리를 거치게된다. 
이때 논리구성도와 물리 구성도가 나오게 되는데 각각 정의는 다음과 같다.

- 논리 구성도 : 몇 개의 네트워크가 어느 라우터와 레이어3 스위치로 연결되는지 파악하기 위한 용도
- 물리 구성도 : 어느 기기의 어느 인터페이스가 어떠한 케이블로 배선되는지 파악하기 위한 용도

참고 자료 

---

[https://www.itworld.co.kr/news/167585](https://www.itworld.co.kr/news/167585)

[https://server-engineer.tistory.com/582](https://server-engineer.tistory.com/582)